(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[402],{2454:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>ea});var r=a(5594),s=a(376),i=a(5155),n=a(9137),l=a.n(n),o=a(2115),d=a(8316),c=a(9946);let p=(0,c.A)("volume-2",[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]]),m=[{id:"alloy",name:"Alloy",description:"Neutral, balanced voice",gender:"Neutral"},{id:"echo",name:"Echo",description:"Clear, expressive voice",gender:"Male"},{id:"fable",name:"Fable",description:"Warm, engaging voice",gender:"Female"},{id:"onyx",name:"Onyx",description:"Deep, authoritative voice",gender:"Male"},{id:"nova",name:"Nova",description:"Bright, energetic voice",gender:"Female"},{id:"shimmer",name:"Shimmer",description:"Soft, gentle voice",gender:"Female"}];function h(e){let{selectedVoice:t,onVoiceChange:a,className:r=""}=e,[s,n]=(0,o.useState)(!1),l=m.find(e=>e.id===t)||m[0];return(0,i.jsxs)("div",{className:"relative ".concat(r),children:[(0,i.jsxs)("button",{onClick:()=>n(!s),className:"flex items-center gap-2 px-3 py-2 bg-black/10 dark:bg-white/10 hover:bg-black/20 dark:hover:bg-white/20 rounded-lg border border-black/20 dark:border-white/20 text-sm transition-colors",children:[(0,i.jsx)(p,{size:16}),(0,i.jsx)("span",{children:l.name}),(0,i.jsxs)("span",{className:"text-xs opacity-60",children:["(",l.gender,")"]})]}),s&&(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"fixed inset-0 z-40",onClick:()=>n(!1)}),(0,i.jsxs)("div",{className:"absolute top-full left-0 mt-1 w-64 bg-white dark:bg-zinc-900 border border-black/20 dark:border-white/20 rounded-lg shadow-xl z-50 overflow-hidden",children:[(0,i.jsx)("div",{className:"p-2 border-b border-black/10 dark:border-white/10",children:(0,i.jsx)("h3",{className:"text-sm font-medium text-black dark:text-white",children:"Select Voice"})}),(0,i.jsx)("div",{className:"max-h-64 overflow-y-auto",children:m.map(e=>(0,i.jsx)("button",{onClick:()=>{a(e.id),n(!1)},className:"w-full text-left p-3 hover:bg-black/10 dark:hover:bg-white/10 transition-colors ".concat(e.id===t?"bg-black/15 dark:bg-white/15":""),children:(0,i.jsxs)("div",{className:"flex items-center justify-between",children:[(0,i.jsxs)("div",{children:[(0,i.jsx)("div",{className:"font-medium text-black dark:text-white",children:e.name}),(0,i.jsx)("div",{className:"text-xs text-zinc-500 dark:text-zinc-400",children:e.description})]}),(0,i.jsx)("div",{className:"text-xs text-zinc-600 dark:text-zinc-500",children:e.gender})]})},e.id))})]})]})]})}var x=a(201),u=a(5455),b=a(2203),g=a(2039),f=a(1865),j=a(8812),v=a(1460),w=a(3174),k=a(8716),y=a(8564);let N=(0,c.A)("minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);var M=a(8749),C=a(2657);let A=(0,c.A)("pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]),z=(0,c.A)("trash",[["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]),S=(0,c.A)("expand",[["path",{d:"m15 15 6 6",key:"1s409w"}],["path",{d:"m15 9 6-6",key:"ko1vev"}],["path",{d:"M21 16v5h-5",key:"1ck2sf"}],["path",{d:"M21 8V3h-5",key:"1qoq8a"}],["path",{d:"M3 16v5h5",key:"1t08am"}],["path",{d:"m3 21 6-6",key:"wwnumi"}],["path",{d:"M3 8V3h5",key:"1ln10m"}],["path",{d:"M9 9 3 3",key:"v551iv"}]]),T=(0,c.A)("shrink",[["path",{d:"m15 15 6 6m-6-6v4.8m0-4.8h4.8",key:"17vawe"}],["path",{d:"M9 19.8V15m0 0H4.2M9 15l-6 6",key:"chjx8e"}],["path",{d:"M15 4.2V9m0 0h4.8M15 9l6-6",key:"lav6yq"}],["path",{d:"M9 4.2V9m0 0H4.2M9 9 3 3",key:"1pxi2q"}]]);var I=a(548),_=a(7414),E=a(3999),O=a(4357),D=a(5196),F=a(4416);let P=e=>{var{getText:t,iconSize:a=12,className:n,timeout:l=1200}=e,d=(0,_._)(e,["getText","iconSize","className","timeout"]);let[c,p]=(0,o.useOptimistic)("idle"),[,m]=(0,o.useTransition)();return(0,i.jsx)("button",(0,s._)((0,r._)({onClick:()=>{m(async()=>{try{await (0,E.lW)(t()),p("copied")}catch(e){console.error("Error copying to clipboard",e),p("failed")}await new Promise(e=>setTimeout(e,l))})},className:(0,E.cn)("icon-btn h-7 w-7 cursor-pointer ".concat("copied"===c?"bg-emerald-500/15 border-emerald-300/30 text-emerald-100":"failed"===c?"bg-red-500/15 border-red-300/30 text-red-100":""," accent-focus"),n)},d),{children:"idle"===c?(0,i.jsx)(O.A,{size:a}):"copied"===c?(0,i.jsx)(D.A,{size:a}):(0,i.jsx)(F.A,{size:a})}))};function V(e){let{selectedModels:t,headerTemplate:a,collapsedIds:r,setCollapsedIds:s,loadingIds:n,pairs:l,onEditUser:d,onDeleteUser:c,onToggle:p}=e,[m,h]=(0,o.useState)(null),x=(0,o.useMemo)(()=>a||"repeat(".concat(t.length,", 320px)"),[a,t.length]),[u,b]=(0,o.useState)(null),[g,f]=(0,o.useState)(""),j=(0,o.useRef)(null);return(0,o.useEffect)(()=>{j.current&&j.current.scrollTo({top:j.current.scrollHeight,behavior:"smooth"})},[l]),(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{ref:j,className:"relative rounded-lg border border-black/5 dark:border-white/5 bg-black/5 dark:bg-white/5 px-3 lg:px-4 pt-2 overflow-x-auto flex-1 overflow-y-auto pb-28 sm:scroll-stable-gutter",children:0===t.length?(0,i.jsx)("div",{className:"p-4 text-zinc-500 dark:text-zinc-400",children:"Select up to 5 models to compare."}):(0,i.jsxs)("div",{className:"min-w-full space-y-3",children:[(0,i.jsx)("div",{className:"grid min-w-full gap-3 items-center overflow-visible mt-0 sticky top-0 left-0 right-0 z-30 -mx-3 px-3 lg:-mx-4 lg:px-4 py-1 rounded-t-lg shadow-[0_1px_0_rgba(0,0,0,0.4)] bg-transparent border-0 sm:bg-black/40 dark:sm:bg-black/40 sm:backdrop-blur-sm sm:border-b sm:border-black/10 dark:sm:border-white/10",style:{gridTemplateColumns:x},children:t.map(e=>{let t=/(\(|\s)free\)/i.test(e.label),a=r.includes(e.id);return(0,i.jsxs)("div",{className:"px-2.5 py-2 sm:px-2 sm:py-2 min-h-[42px] min-w-0 overflow-hidden flex items-center ".concat(a?"justify-center":"justify-between"," overflow-visible rounded-lg backdrop-blur-sm shadow-[0_1px_8px_rgba(0,0,0,0.25)] ring-1 ").concat(e.good?"ring-amber-300/35 bg-gradient-to-b from-amber-500/10 to-black/50":"ring-white/10 bg-black/55"," dark:").concat(e.good?"ring-amber-300/35 from-amber-400/10 to-black/60":"ring-white/10 bg-black/60"),children:[!a&&(0,i.jsxs)("div",{className:"text-[12px] leading-normal font-medium pr-2 inline-flex items-center gap-1.5 min-w-0 drop-shadow-[0_1px_0_rgba(0,0,0,0.35)] sm:drop-shadow-none ".concat(e.good||t?"opacity-100 text-black dark:text-white":"opacity-100 text-black dark:text-white sm:opacity-90"),children:[e.good&&(0,i.jsxs)("span",{className:"badge-base badge-pro inline-flex items-center gap-1 h-6 self-center",children:[(0,i.jsx)(y.A,{size:11}),(0,i.jsx)("span",{className:"hidden sm:inline",children:"Pro"})]}),t&&(0,i.jsx)("span",{className:"badge-base badge-free inline-flex items-center gap-1 h-6 self-center",children:(0,i.jsx)("span",{className:"hidden sm:inline",children:"Free"})}),(0,i.jsx)("span",{className:"truncate max-w-[18ch] px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[12px]",title:e.label,children:e.label})]}),(0,i.jsxs)("div",{className:"flex items-center gap-2",children:[(0,i.jsx)("button",{onClick:()=>p(e.id),className:"icon-btn text-black dark:text-white cursor-pointer ".concat(e.good?"model-chip-pro":t?"model-chip-free":"border-black/10 dark:border-white/10"),"data-selected":!0,"data-type":e.good?"pro":t?"free":"other",title:"Click to toggle",children:(0,i.jsx)(N,{size:16,"data-type":e.good?"pro":"free","data-active":!0})},e.id),a?(0,i.jsx)("button",{onClick:()=>s(t=>t.filter(t=>t!==e.id)),className:"icon-btn h-7 w-7 accent-focus",title:"Expand ".concat(e.label),children:(0,i.jsx)(M.A,{size:14})}):(0,i.jsx)("button",{onClick:()=>s(t=>[...t,e.id]),className:"icon-btn h-7 w-7 accent-focus",title:"Collapse ".concat(e.label),children:(0,i.jsx)(C.A,{size:14})})]})]},e.id)})}),l.map((e,a)=>(0,i.jsxs)("div",{className:"space-y-3",children:[(0,i.jsxs)("div",{className:"px-2 flex justify-end relative",children:[u===a&&(0,i.jsxs)("div",{className:"ml-auto",children:[(0,i.jsx)("textarea",{value:g,onChange:e=>f(e.target.value),className:"w-full min-h-[40px] max-w-[68ch] text-sm leading-relaxed px-3 py-1.5 rounded-lg bg-white/10 border border-white/20 text-white placeholder-white/60 resize-none focus:outline-none focus:ring-2 focus:ring-rose-500/50",placeholder:"Edit your message...",autoFocus:!0,onKeyDown:e=>{"Enter"!==e.key||e.shiftKey?"Escape"===e.key&&(b(null),f("")):(e.preventDefault(),g.trim()&&(d(a,g.trim()),b(null),f("")))}}),(0,i.jsxs)("div",{className:"mt-2 flex justify-end gap-2",children:[(0,i.jsx)("button",{onClick:()=>{g.trim()&&(d(a,g.trim()),b(null),f(""))},className:"px-3 py-1 text-xs rounded bg-rose-600 hover:bg-rose-700 text-white transition-colors",children:"Save"}),(0,i.jsx)("button",{onClick:()=>{b(null),f("")},className:"px-3 py-1 text-xs rounded bg-white/10 hover:bg-white/20 text-white transition-colors",children:"Cancel"})]})]}),(0,i.jsxs)("div",{className:"group flex gap-2 items-center justify-end sticky right-0 z-10",children:[(0,i.jsx)("div",{className:"inline-flex items-center text-sm leading-relaxed px-3 py-3 rounded-md bg-[var(--accent-interactive-primary)] text-white shadow-[0_2px_10px_rgba(0,0,0,0.35)]",children:(0,i.jsx)("span",{className:"truncate whitespace-pre-wrap break-words max-w-[68ch]",children:e.user.content})}),(0,i.jsxs)("div",{className:"hidden group-hover:flex order-first gap-1.5 ",children:[(0,i.jsx)("button",{onClick:()=>{b(a),f(e.user.content)},className:"icon-btn h-7 w-7 accent-focus ",title:"Edit message",children:(0,i.jsx)(A,{size:14})}),(0,i.jsx)("button",{onClick:()=>h({turnIndex:a}),className:"icon-btn h-7 w-7 accent-focus ",title:"Delete message",children:(0,i.jsx)(z,{size:14})}),(0,i.jsx)(P,{getText:()=>e.user.content})]})]})]}),(0,i.jsx)("div",{className:"grid gap-3 items-stretch",style:{gridTemplateColumns:x},children:t.map(a=>{let l=e.answers.find(e=>e.modelId===a.id),o=r.includes(a.id);return(0,i.jsx)("div",{className:"h-full",children:(0,i.jsxs)("div",{className:"group relative rounded-lg ".concat(o?"p-2.5":"p-3"," h-full min-h-[140px] flex overflow-hidden ring-1 transition-shadow bg-gradient-to-b from-black/40 to-black/20 ring-white/10 backdrop-blur-[2px] ").concat(o?"cursor-pointer":"hover:ring-white/20"),onClick:()=>{o&&s(e=>e.filter(e=>e!==a.id))},title:o?"Click to expand":void 0,children:[l&&String(l.content||"").length>0&&(0,i.jsxs)("div",{className:"absolute top-2 right-2 z-10 flex flex-col gap-2 ".concat(o?"opacity-0 pointer-events-none":"opacity-0 group-hover:opacity-100"),children:[t.length-1!==r.length?(0,i.jsx)("button",{onClick:()=>{s(()=>t.map(e=>e.id===a.id?"NAI":e.id).filter(e=>"NAI"!==e))},className:"icon-btn h-7 w-7 accent-focus",title:"Expand ".concat(a.label," response"),children:(0,i.jsx)(S,{size:12})}):(0,i.jsx)("button",{onClick:()=>s(()=>[]),className:"icon-btn h-7 w-7 accent-focus",title:"Shrink ".concat(a.label," response"),children:(0,i.jsx)(T,{size:12})}),(0,i.jsx)(P,{getText:()=>(0,E.j0)(l.content),title:"Copy ".concat(a.label," response")})]}),(0,i.jsx)("div",{className:"relative",children:(0,i.jsx)("div",{className:"text-sm leading-relaxed w-full pr-8 ".concat(o?"overflow-hidden max-h-20 opacity-70":"space-y-2"," ").concat(o?"":"max-h-[40vh] md:max-h-[400px] overflow-y-auto custom-scrollbar"),style:{WebkitOverflowScrolling:"touch"},children:l&&String(l.content||"").length>0&&!["Thinking…","Typing…"].includes(String(l.content))?(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)("div",{className:"rounded-2xl ring-white/10 px-3 py-2",children:(0,i.jsx)(I.A,{text:(0,E.j0)(l.content)})}),l.tokens&&!o&&(()=>{var e,t,a,r,s;let n=null==(e=l.tokens)?void 0:e.by,o=null==(t=l.tokens)?void 0:t.model,d=Array.isArray(null==(a=l.tokens)?void 0:a.perMessage)?l.tokens.perMessage.reduce((e,t)=>e+(Number(null==t?void 0:t.tokens)||0),0):null!=(s=null==(r=l.tokens)?void 0:r.total)?s:void 0,c=(0,E.bP)(String(l.content||""));return(0,i.jsx)("div",{className:"mt-2 text-[11px] text-zinc-300/80",children:(0,i.jsxs)("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 rounded border border-white/10 bg-white/5",children:["number"==typeof d&&(0,i.jsx)("span",{className:"opacity-80",children:"In:"}),"number"==typeof d&&(0,i.jsx)("span",{className:"font-medium",children:d}),(0,i.jsx)("span",{className:"opacity-80",children:"Out:"}),(0,i.jsx)("span",{className:"font-medium",children:c}),n&&(0,i.jsxs)("span",{className:"opacity-70",children:["• ",n]}),o&&(0,i.jsxs)("span",{className:"opacity-70",children:["• ",o]})]})})})(),503===l.code&&"openrouter"===l.provider&&(0,i.jsxs)("div",{className:"mt-2 inline-flex items-center gap-2 text-xs text-amber-200/90 bg-amber-500/15 ring-1 ring-amber-300/30 px-2.5 py-1.5 rounded",children:[(0,i.jsx)("span",{children:"Free pool temporarily unavailable (503). Try again soon, switch model, or add your own OpenRouter API key for higher limits."}),(0,i.jsx)("button",{onClick:()=>window.dispatchEvent(new Event("open-settings")),className:"ml-1 px-2 py-1 rounded bg-white/10 hover:bg-white/20 text-white border border-white/10",children:"Add key"})]}),(()=>{try{let e=String(l.content||"");return/add your own\s+(?:openrouter|gemini)\s+api key/i.test(e)}catch(e){return!1}})()&&(0,i.jsx)("div",{className:"mt-2",children:(0,i.jsx)("button",{onClick:()=>window.dispatchEvent(new Event("open-settings")),className:"text-xs px-2.5 py-1 rounded text-white border border-white/10 accent-action-fill",children:"Add keys"})})]}):n.includes(a.id)||l&&["Thinking…","Typing…"].includes(String(l.content))?(0,i.jsx)("div",{className:"w-full self-stretch",children:(0,i.jsx)("div",{className:"inline-flex items-center gap-2 text-[12px] font-medium text-rose-100",children:(0,i.jsxs)("span",{className:"inline-flex items-center gap-2 px-2.5 py-1 rounded-full bg-white/10 ring-1 ring-white/15",children:[(0,i.jsx)("span",{className:"text-white/90",children:"Thinking"}),(0,i.jsxs)("span",{className:"inline-flex items-center gap-0.5","aria-hidden":!0,children:[(0,i.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-white/70 animate-bounce",style:{animationDelay:"0ms"}}),(0,i.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-white/60 animate-bounce",style:{animationDelay:"120ms"}}),(0,i.jsx)("span",{className:"w-1.5 h-1.5 rounded-full bg-white/50 animate-bounce",style:{animationDelay:"240ms"}})]})]})})}):(0,i.jsx)("span",{className:"text-zinc-400 text-sm",children:"No response"})})}),o&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,i.jsxs)("span",{className:"opacity-0 group-hover:opacity-100 transition-opacity text-[11px] px-2 py-1 rounded-full border border-white/10 bg-black/50 inline-flex items-center gap-1",children:[(0,i.jsx)(C.A,{size:12})," Expand"]})})]})},a.id)})})]},a))]})}),(0,i.jsx)(k.A,{open:null!==m,title:"Delete this turn answer",message:"This will remove your prompt and all model answers for this turn.",confirmText:"Delete",cancelText:"Cancel",onCancel:()=>h(null),onConfirm:()=>{m&&(c(m.turnIndex),h(null))}})]})}var H=a(3970),q=a(5752),B=a(1685),L=a(3177),R=a(6946),W=a(6833),K=a(5695),U=a(4618),G=a(3074),X=a(847),Y=a(6108),J=a(7340),Q=a(4498),Z=a(8037),$=a(6874),ee=a.n($),et=a(8543);function ea(){let{user:e,loading:t}=(0,R.A)(),a=(0,K.useRouter)(),{theme:n}=(0,H.DP)(),[c,p]=(0,o.useState)(!1),[m,k]=(0,o.useState)(!0),[y,N]=(0,o.useState)(!1),M=q.I5[n.background].className;(0,o.useEffect)(()=>{!c||t||e||a.push("/signin")},[e,t,c,a]);let[C,A]=(0,x.M)("neuroaicomparison:selected-models",["open-gpt-5-nano","open-midijourney","open-evil","open-mistral","open-llamascout"]),[z]=(0,x.M)("neuroaicomparison:keys",{}),[S,T]=(0,x.M)("neuroaicomparison:threads",[]),[I,_]=(0,x.M)("neuroaicomparison:active-thread",null),[E,O]=(0,x.M)("neuroaicomparison:sidebar-open",!0),[D,F]=(0,o.useState)(!1),[P,$]=(0,o.useState)(!1),[ea,er]=(0,x.M)("neuroaicomparison:selected-voice","alloy"),[es]=(0,u.T3)(),ei=(0,o.useMemo)(()=>(0,u.zz)(es),[es]),{projects:en,activeProjectId:el,activeProject:eo,createProject:ed,updateProject:ec,deleteProject:ep,selectProject:em}=(0,g.Y)(),eh=(0,o.useMemo)(()=>S.find(e=>e.id===I)||null,[S,I]),ex=(0,o.useMemo)(()=>{let e=S.filter(e=>"compare"===e.pageType);return el?e.filter(e=>e.projectId===el):e},[S,el]),eu=(0,o.useMemo)(()=>{var e;return null!=(e=null==eh?void 0:eh.messages)?e:[]},[eh]),[eb,eg]=(0,o.useState)([]),[ef,ej]=(0,o.useState)([]),ev=(0,o.useMemo)(()=>C.map(e=>ei.find(t=>t.id===e)).filter(Boolean),[C,ei]),ew=(0,o.useMemo)(()=>0===ev.length?"":ev.map(e=>ef.includes(e.id)?"90px":"320px").join(" "),[ev,ef]);eb.length;let[ek,ey]=(0,x.M)("neuroaicomparison:first-visit-note-dismissed",!1),eN=c&&!ek&&(!(null==z?void 0:z.openrouter)||!(null==z?void 0:z.gemini)),eM=e=>{A(t=>{if(t.includes(e))return t.filter(t=>t!==e);let a=new Set(ei.map(e=>e.id));return t.filter(e=>a.has(e)).length>=5?t:[...t,e]})},{send:eC,onEditUser:eA}=(0,o.useMemo)(()=>(0,b.u)({selectedModels:ev,keys:z,threads:S,activeThread:eh,setThreads:T,setActiveId:_,setLoadingIds:e=>eg(e),setLoadingIdsInit:e=>eg(e),activeProject:eo,selectedVoice:ea,userId:null==e?void 0:e.id,pageType:"compare"}),[ev,z,S,eh,T,_,eo,ea,null==e?void 0:e.id]);(0,o.useEffect)(()=>{(async()=>{if(!(null==e?void 0:e.id)){T([]),_(null);return}try{let t=await (0,W.Sk)(e.id);if(T(t),t.length>0){let e=t.filter(e=>"compare"===e.pageType),a=el?e.find(e=>e.projectId===el):e[0];_(e=>e&&t.some(t=>t.id===e&&"compare"===t.pageType)?e:(null==a?void 0:a.id)||null)}else _(null)}catch(e){console.warn("Failed to load compare threads from Supabase:",e)}})()},[null==e?void 0:e.id,el]);let ez=(0,o.useMemo)(()=>{let e=[],t=null;for(let r of eu)if("user"===r.role)t=r,e.push({user:r,answers:[]});else if("assistant"===r.role&&t){var a;null==(a=e[e.length-1])||a.answers.push(r)}return e},[eu]),eS=(0,o.useMemo)(()=>{let e=ez.map(e=>({user:e.user,answers:[...e.answers]}));if(0===e.length)return e;let t=e[e.length-1],a=new Set(t.answers.map(e=>e.modelId).filter(Boolean));return ev.forEach(e=>{a.has(e.id)||t.answers.push({id:"thinking-".concat(e.id,"-").concat((0,B.t)()),role:"assistant",content:"Thinking…",modelId:e.id,createdAt:new Date().toISOString()})}),e},[ez,eb,ev]);return(0,o.useEffect)(()=>{p(!0);let e=setTimeout(()=>k(!1),350);return()=>clearTimeout(e)},[]),(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d "+"compare-page min-h-screen w-full ".concat(M," relative text-black dark:text-white"),children:[m&&(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d fixed inset-0 z-[9999]",children:(0,i.jsx)(L.A,{backgroundClass:M,dismissed:c})}),(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d absolute inset-0 z-0 pointer-events-none opacity-95"}),(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d relative z-10 px-3 lg:px-4 py-4 lg:py-6",children:(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d flex gap-3 lg:gap-4",children:[(0,i.jsx)(w.A,{sidebarOpen:E,onToggleSidebar:()=>O(!E),threads:ex,activeId:I,onSelectThread:e=>_(e),onNewChat:async()=>{if(null==e?void 0:e.id)try{let t=await (0,W.Nw)({userId:e.id,title:"New Chat",projectId:el||null,pageType:"compare",initialMessage:null});T(e=>[t,...e]),_(t.id)}catch(e){console.warn("Failed to create compare thread:",e)}},mobileSidebarOpen:D,onCloseMobile:()=>F(!1),onOpenMobile:()=>F(!0),onDeleteThread:async t=>{if(null==e?void 0:e.id){try{await (0,W.KX)(e.id,t)}catch(e){console.warn("Failed to delete compare thread in DB, removing locally:",e)}T(e=>{let a=e.filter(e=>e.id!==t);if(I===t){var r,s;let e=a.filter(e=>"compare"===e.pageType);_(null!=(s=null==(r=el?e.find(e=>e.projectId===el):e[0])?void 0:r.id)?s:null)}return a})}},selectedModels:ev,projects:en,activeProjectId:el,onSelectProject:em,onCreateProject:ed,onUpdateProject:ec,onDeleteProject:ep}),(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d flex-1 min-w-0 flex flex-col h-[calc(100vh-2rem)] lg:h-[calc(100vh-3rem)] overflow-hidden ",children:[(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d lg:hidden flex items-center justify-between p-4 border-b border-white/10",children:[(0,i.jsx)("button",{onClick:()=>F(!0),"aria-label":"Open menu",title:"Menu",className:"jsx-73dd69d82b79f35d inline-flex items-center justify-center h-9 w-9 rounded-xl bg-gradient-to-r from-white/12 to-white/8 border border-white/15 text-white hover:from-white/18 hover:to-white/12 hover:border-white/25 backdrop-blur-sm shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",children:(0,i.jsx)("svg",{fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",className:"jsx-73dd69d82b79f35d w-5 h-5",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 6h16M4 12h16M4 18h16",className:"jsx-73dd69d82b79f35d"})})}),(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d relative flex items-center gap-2",children:[(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d sm:hidden",children:(0,i.jsx)(Z.A,{inline:!0,theme:"dark"===n.mode?"dark":"light"})}),(0,i.jsx)("button",{onClick:()=>N(e=>!e),"aria-label":"Open quick actions",title:"Actions",className:"jsx-73dd69d82b79f35d inline-flex items-center justify-center h-9 w-9 rounded-md border border-white/15 bg-white/5 hover:bg-white/10 shadow",children:(0,i.jsxs)("svg",{viewBox:"0 0 24 24",fill:"currentColor",className:"jsx-73dd69d82b79f35d w-4 h-4",children:[(0,i.jsx)("circle",{cx:"7",cy:"7",r:"2",className:"jsx-73dd69d82b79f35d"}),(0,i.jsx)("circle",{cx:"17",cy:"7",r:"2",className:"jsx-73dd69d82b79f35d"}),(0,i.jsx)("circle",{cx:"7",cy:"17",r:"2",className:"jsx-73dd69d82b79f35d"}),(0,i.jsx)("circle",{cx:"17",cy:"17",r:"2",className:"jsx-73dd69d82b79f35d"})]})}),y&&(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d absolute right-0 top-11 z-50 rounded-xl border border-white/15 bg-black/60 backdrop-blur-md shadow-xl p-2 flex items-center gap-2",children:[(0,i.jsx)(ee(),{href:"/",className:"inline-flex items-center justify-center h-9 w-9 rounded-xl bg-gradient-to-r from-white/12 to-white/8 border border-white/15 text-white hover:from-white/18 hover:to-white/12 hover:border-white/25 backdrop-blur-sm shadow-lg transition-all duration-200 hover:scale-105 active:scale-95","aria-label":"Go to home",title:"Home",children:(0,i.jsx)(J.A,{size:18})}),(0,i.jsx)("button",{onClick:()=>{$(!0),N(!1)},title:"Change models","aria-label":"Change models",className:"jsx-73dd69d82b79f35d inline-flex items-center gap-1.5 text-xs h-9 w-9 justify-center rounded-md border border-white/15 bg-white/5 hover:bg-white/10 shadow",children:(0,i.jsx)(Q.A,{size:14})}),(0,i.jsx)(X.A,{compact:!0}),(0,i.jsx)(G.A,{compact:!0}),(0,i.jsx)(Y.A,{compact:!0}),(0,i.jsx)(U.A,{owner:"saishamehraa",repo:"NeuroAccess"})]})]})]}),(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d hidden lg:block",children:(0,i.jsx)(d.A,{onOpenMenu:()=>F(!0),title:"NeuroAIComparison",githubOwner:"saishamehraa",githubRepo:"NeuroAccess",onOpenModelsModal:()=>$(!0),className:"-mr-3 sm:mr-0"})}),c&&ev.some(e=>"audio"===e.category)&&(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d mb-3 px-4",children:(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d flex items-center gap-3",children:[(0,i.jsx)("span",{className:"jsx-73dd69d82b79f35d text-sm text-zinc-500 dark:text-zinc-400",children:"Voice:"}),(0,i.jsx)(h,{selectedVoice:ea,onVoiceChange:er})]})}),(0,i.jsx)(f.A,{open:P,onClose:()=>$(!1),selectedIds:C,selectedModels:ev,customModels:es,onToggle:eM}),c&&(0,i.jsx)(j.A,{open:eN,onClose:()=>ey(!0)}),c&&(0,i.jsx)(V,{selectedModels:ev,headerTemplate:ew,collapsedIds:ef,setCollapsedIds:ej,loadingIds:eb,pairs:eS,onEditUser:eA,onDeleteUser:e=>{eh&&T(t=>t.map(t=>{var a;if(t.id!==eh.id)return t;let i=t.messages,n=[];for(let e=0;e<i.length;e++)"user"===i[e].role&&n.push(e);let l=n[e];if(void 0===l)return t;let o=null!=(a=n[e+1])?a:i.length,d=i.filter((e,t)=>t<l||t>=o);return(0,s._)((0,r._)({},t),{messages:d})}))},onToggle:eM}),c&&(0,i.jsxs)("div",{className:"jsx-73dd69d82b79f35d px-3 lg:px-4 pb-3",children:[(0,i.jsx)(v.A,{onSubmit:e=>{try{console.log("[Compare] HomeAiInput onSubmit:",e)}catch(e){}eC(e)}}),(0,i.jsxs)("div",{"aria-hidden":!0,className:"jsx-73dd69d82b79f35d sr-only",children:["activeId: ",String(I||"")," • messages: ",String(eu.length)]})]})]})]})}),(0,i.jsx)(et.N9,{position:"bottom-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"dark"}),(0,i.jsx)("div",{className:"jsx-73dd69d82b79f35d hidden sm:block",children:(0,i.jsx)(Z.A,{theme:"dark"===n.mode?"dark":"light"})}),(0,i.jsx)(l(),{id:"73dd69d82b79f35d",children:'.compare-page{position:relative}.compare-page::before{content:"";position:fixed;inset:0;pointer-events:none;z-index:0;background:radial-gradient(1e3px 600px at 50%10%,rgba(160,40,40,.2),transparent 60%),radial-gradient(800px 500px at 20%80%,rgba(160,40,40,.14),transparent 70%),linear-gradient(to bottom,rgba(3,3,3,.92),rgba(5,5,5,.96))}:root.dark .compare-page::before{opacity:1}:root:not(.dark) .compare-page::before{opacity:.85}.compare-page::after{content:"";position:fixed;inset:0;pointer-events:none;z-index:0;background:rgba(0,0,0,.22);-webkit-backdrop-filter:blur(18px)saturate(120%);backdrop-filter:blur(18px)saturate(120%)}:root.dark .compare-page .group.relative.rounded-lg{background:rgba(10,10,10,.5)!important;-webkit-backdrop-filter:blur(18px)saturate(130%);backdrop-filter:blur(18px)saturate(130%);border:1px solid rgba(255,255,255,.12)!important;box-shadow:0 14px 34px rgba(0,0,0,.42),inset 0 1px 0 rgba(255,255,255,.05)}:root.dark .compare-page .group.relative.rounded-lg:hover{background:rgba(14,14,14,.56)!important;border-color:rgba(255,255,255,.16)!important;box-shadow:0 18px 44px rgba(0,0,0,.5),inset 0 1px 0 rgba(255,255,255,.06)}:root.dark .compare-page .group.relative.rounded-lg:focus-within{outline:none;border-color:rgba(255,255,255,.2)!important;box-shadow:0 20px 52px rgba(0,0,0,.54),0 0 0 1px rgba(255,255,255,.09),inset 0 1px 0 rgba(255,255,255,.07)}:root:not(.dark) .compare-page .group.relative.rounded-lg{background:rgba(255,255,255,.18)!important;-webkit-backdrop-filter:blur(10px)saturate(140%);backdrop-filter:blur(10px)saturate(140%);border:1px solid rgba(0,0,0,.06)!important;box-shadow:0 10px 28px rgba(0,0,0,.18),inset 0 1px 0 rgba(255,255,255,.3)}.compare-page [class*="inline-flex"][class*="rounded-full"][class*="ring-1"],.compare-page [class*="bg-white/10"][class*="ring-1"][class*="rounded-full"]{background:transparent!important;border:0!important;box-shadow:none!important;padding:0!important;border-radius:0!important}.compare-page .text-white/90 {color:rgba(255,255,255,.95)!important}.compare-page .max-w\\[72ch\\].rounded-2xl,.compare-page .group.relative.rounded-lg [class*="max-w"][class*="rounded-2xl"]{background:transparent!important;border-color:transparent!important;box-shadow:none!important}.compare-page .max-w\\[72ch\\]{color:rgba(255,255,255,.92)}.compare-page .group.relative.rounded-lg{border-color:rgba(255,255,255,.08)!important}'})]})}a(5716)},7360:(e,t,a)=>{Promise.resolve().then(a.bind(a,2454))}},e=>{e.O(0,[797,354,874,811,783,704,441,964,358],()=>e(e.s=7360)),_N_E=e.O()}]);